# üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## ‚úÖ –ß—Ç–æ —É–∂–µ –∑–∞—â–∏—â–µ–Ω–æ

1. **–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `ENVIRONMENT=development`**
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `ENVIRONMENT=production`
   - –õ–æ–∫–∞–ª—å–Ω–æ: `ENVIRONMENT=development` (–≤ `.env`)

2. **Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç Telegram WebApp**
   - –í —Ä–µ–∞–ª—å–Ω–æ–º Telegram Mini App –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å `window.Telegram.WebApp`
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫ `X-Telegram-User-ID` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–±–µ–∑ Telegram)

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö

### Railway (Backend)

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí —Å–µ—Ä–≤–∏—Å `web` (API)
3. **Variables** ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - `ENVIRONMENT=production` ‚úÖ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!)

–ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ:
```bash
ENVIRONMENT=production
```

### Vercel (Frontend)

Frontend –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ - –æ–Ω –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∞ backend —Ä–µ—à–∞–µ—Ç —á—Ç–æ —Å –Ω–∏–º–∏ –¥–µ–ª–∞—Ç—å.

## üîê –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞—â–∏—Ç–∞

### –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (`ENVIRONMENT=production`):

1. Backend **–ù–ï** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Telegram-User-ID`
2. Backend **–¢–û–õ–¨–ö–û** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π Telegram `initData` —Å –ø–æ–¥–ø–∏—Å—å—é
3. –ë–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–≥–æ `initData` ‚Üí –æ—à–∏–±–∫–∞ 401

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (`ENVIRONMENT=development`):

1. Backend –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Telegram-User-ID` –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–π ID –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç **–¢–û–õ–¨–ö–û** –ª–æ–∫–∞–ª—å–Ω–æ

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] Railway: `ENVIRONMENT=production` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ: `ENVIRONMENT=development` –≤ `.env`
- [ ] Middleware –≤–∫–ª—é—á–µ–Ω –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å `app.py`)

## üö® –í–∞–∂–Ω–æ!

**–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ù–ï –†–ê–ë–û–¢–ê–ï–¢ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `if settings.ENVIRONMENT == "development"` –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–±—Ö–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö `ENVIRONMENT=production`, –ø–æ—ç—Ç–æ–º—É –æ–±—Ö–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
- –î–∞–∂–µ –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Telegram-User-ID`, –æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞!** ‚úÖ

